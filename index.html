<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Minimum Wage</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel='shortcut icon' type='image/x-icon' href='/final/images/favicon.ico'/>
    <!--Google Fonts-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
  
    <!--jQuery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!--d3-->
    <script type="text/javascript" src="../d3/d3.min.js"></script>
    <script type="text/javascript" src="../d3/d3.v3.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

    <!--Fullpage.js-->
    <link rel="stylesheet" type="text/css" href="../fullpage-js/jquery.fullPage.css" />
    <script type="text/javascript" src="../fullpage-js/fullpage.scrollHorizontally.min.js"></script>
    <script type="text/javascript" src="../fullpage-js/jquery.fullpage.extensions.min.js"></script>
    
    <!--FontAwesome-->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <!--TopoJson-->
    <script src="https://d3js.org/topojson.v2.min.js"></script>

    <!--Annotation Plugin-->
    <script src="https://rawgit.com/susielu/d3-annotation/master/d3-annotation.min.js"></script>

    <!--Legend Plugin-->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.24.0/d3-legend.min.js"></script>

    <!-- Custom Scripts -->
    <script type="text/javascript" src="js/intro-blob.js"></script>
    <script type="text/javascript" src="js/trends.js"></script>
    <script type="text/javascript" src="js/sunburst-viz.js"></script>
    <script type="text/javascript" src="js/timeline.js"></script>
    <script type="text/javascript" src="js/car-terror.js"></script>
    <script type="text/javascript" src="js/hdi.js"></script>
    <script type="text/javascript" src="js/law-viz.js"></script>
    <script type="text/javascript" src="js/main.js"></script>

    <!--Main stylesheet-->
    <link type="text/css" href="css/index.css" rel="stylesheet">
    <link type="text/css" href="css/intro-blob.css" rel="stylesheet">
    <link type="text/css" href="css/trends.css" rel="stylesheet">
    <link type="text/css" href="css/sunburst.css" rel="stylesheet">
    <link type="text/css" href="css/timeline.css" rel="stylesheet">
    <link type="text/css" href="css/hdi-car-terror.css" rel="stylesheet">
    <link type="text/css" href="css/law-viz.css" rel="stylesheet">
  
  <style>
    .rectangle {
      fill: steelblue;
    }
    .rectangle:hover {
      fill: orange;
    }
    .axis {
      font: 10px sans-serif;
    }
    
    .axis path,
    .axis line {
      fill: none;
      stroke: #000;
      shape-rendering: crispEdges;
    }
  </style>
  </head>
  <body>
        <div id="drop" align=center></div>
        <script src="http://d3js.org/d3.v3.min.js"></script>
        <script>
        
        var margin = {top: 80, right: 180, bottom: 80, left: 180},
            width = 960 - margin.left - margin.right,
            height = 500 - margin.top - margin.bottom;
        
        var svg = d3.select("body").append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        
        d3.tsv("MinimumWageData.csv", function(error, data){
        
            // filter year
            var data = data.filter(function(d){return d.Year == '2000';});
            // Get every column value
            var elements = Object.keys(data[0])
                .filter(function(d){
                    return ((d != "Year") & (d != "State"));
                });
            var selection = elements[0];
        
            var y = d3.scale.linear()
                    .domain([0, d3.max(data, function(d){
                        return +d[selection];
                    })])
                    .range([height, 0]);
        
            var x = d3.scale.ordinal()
                    .domain(data.map(function(d){ return d.State;}))
                    .rangeBands([0, width]);
        
        
            var xAxis = d3.svg.axis()
                .scale(x)
                .orient("bottom");
        
            var yAxis = d3.svg.axis()
                .scale(y)
                .orient("left");
        
            svg.append("g")
                .attr("class", "x axis")
                .attr("transform", "translate(0," + height + ")")
                .call(xAxis)
                .selectAll("text")
                .style("font-size", "8px")
                  .style("text-anchor", "end")
                  .attr("dx", "-.8em")
                  .attr("dy", "-.55em")
                  .attr("transform", "rotate(-90)" );
        
        
             svg.append("g")
                .attr("class", "y axis")
                .call(yAxis);
        
            svg.selectAll("rectangle")
                .data(data)
                .enter()
                .append("rect")
                .attr("class","rectangle")
                .attr("width", width/data.length)
                .attr("height", function(d){
                    return height - y(+d[selection]);
                })
                .attr("x", function(d, i){
                    return (width / data.length) * i ;
                })
                .attr("y", function(d){
                    return y(+d[selection]);
                })
                .append("title")
                .text(function(d){
                    return d.State + " : " + d[selection];
                });
        
            var selector = d3.select("#drop")
                .append("select")
                .attr("id","dropdown")
                .on("change", function(d){
                    selection = document.getElementById("dropdown");
        
                    y.domain([0, d3.max(data, function(d){
                        return +d[selection.value];})]);
        
                    yAxis.scale(y);
        
                    d3.selectAll(".rectangle")
                           .transition()
                        .attr("height", function(d){
                            return height - y(+d[selection.value]);
                        })
                        .attr("x", function(d, i){
                            return (width / data.length) * i ;
                        })
                        .attr("y", function(d){
                            return y(+d[selection.value]);
                        })
                           .ease("linear")
                           .select("title")
                           .text(function(d){
                               return d.State + " : " + d[selection.value];
                           });
              
                       d3.selectAll("g.y.axis")
                           .transition()
                           .call(yAxis);
        
                 });
        
            selector.selectAll("option")
              .data(elements)
              .enter().append("option")
              .attr("value", function(d){
                return d;
              })
              .text(function(d){
                return d;
              })
        
        
        });
        
        </script>
        </body>
        
  <body>
    <div id="fullpage">
      <!--Section 1-->
      <div class="section title-page bg-image" id="title-bg" data-anchor="section-title">
        <div class="bg-opacity">
          <div id="title-wrapper">
              <h1 id="main-title">Minumium Wage</h1>
              <h4 id="main-subtitle">Exploring Minimum Wage in America</h4>
          </div>
        </div>
        <div class="center-page"><span></span>Scroll</div>
      </div>
    </body>
    <body>
        <div id="drop" align=center></div>
        <script src="http://d3js.org/d3.v3.min.js"></script>
        <script>
        
        var margin = {top: 80, right: 180, bottom: 80, left: 180},
            width = 960 - margin.left - margin.right,
            height = 500 - margin.top - margin.bottom;
        
        var svg = d3.select("body").append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        
        d3.tsv("MinimumWageData.csv", function(error, data){
        
            // filter year
            var data = data.filter(function(d){return d.Year == '2000';});
            // Get every column value
            var elements = Object.keys(data[0])
                .filter(function(d){
                    return ((d != "Year") & (d != "State"));
                });
            var selection = elements[0];
        
            var y = d3.scale.linear()
                    .domain([0, d3.max(data, function(d){
                        return +d[selection];
                    })])
                    .range([height, 0]);
        
            var x = d3.scale.ordinal()
                    .domain(data.map(function(d){ return d.State;}))
                    .rangeBands([0, width]);
        
        
            var xAxis = d3.svg.axis()
                .scale(x)
                .orient("bottom");
        
            var yAxis = d3.svg.axis()
                .scale(y)
                .orient("left");
        
            svg.append("g")
                .attr("class", "x axis")
                .attr("transform", "translate(0," + height + ")")
                .call(xAxis)
                .selectAll("text")
                .style("font-size", "8px")
                  .style("text-anchor", "end")
                  .attr("dx", "-.8em")
                  .attr("dy", "-.55em")
                  .attr("transform", "rotate(-90)" );
        
        
             svg.append("g")
                .attr("class", "y axis")
                .call(yAxis);
        
            svg.selectAll("rectangle")
                .data(data)
                .enter()
                .append("rect")
                .attr("class","rectangle")
                .attr("width", width/data.length)
                .attr("height", function(d){
                    return height - y(+d[selection]);
                })
                .attr("x", function(d, i){
                    return (width / data.length) * i ;
                })
                .attr("y", function(d){
                    return y(+d[selection]);
                })
                .append("title")
                .text(function(d){
                    return d.State + " : " + d[selection];
                });
        
            var selector = d3.select("#drop")
                .append("select")
                .attr("id","dropdown")
                .on("change", function(d){
                    selection = document.getElementById("dropdown");
        
                    y.domain([0, d3.max(data, function(d){
                        return +d[selection.value];})]);
        
                    yAxis.scale(y);
        
                    d3.selectAll(".rectangle")
                           .transition()
                        .attr("height", function(d){
                            return height - y(+d[selection.value]);
                        })
                        .attr("x", function(d, i){
                            return (width / data.length) * i ;
                        })
                        .attr("y", function(d){
                            return y(+d[selection.value]);
                        })
                           .ease("linear")
                           .select("title")
                           .text(function(d){
                               return d.State + " : " + d[selection.value];
                           });
              
                       d3.selectAll("g.y.axis")
                           .transition()
                           .call(yAxis);
        
                 });
        
            selector.selectAll("option")
              .data(elements)
              .enter().append("option")
              .attr("value", function(d){
                return d;
              })
              .text(function(d){
                return d;
              })
        
        
        });
        
        </script>
        </body>

      <!--Section 2-->
      <div class="section Compare Wages" data-anchor="Compare Wages">

        <div class="slide mass-shootings-intro-1 bg-image">
          <div class="bg-opacity">
            <div class="intro-para">
              <h2 class="text-red">The Problem of Mass Shootings</h2>
              <h5>
                The recent years have brought about much gun violence in America with mass shootings frequently dominating the nation's headlines.
                Mass shootings such as the Orlando Nightclub and Sandy Hook Elementary School shootings are closely associated with the issue of gun violence.
              </h5>
              <br>
              <h5>
                While there is no universal definition of a mass shooting, we use the definition "FOUR or more shot and/or killed in a single incident, at the same general time and location  not including the shooter"
                which is similar to the FBI's definition of a mass killing, which does not specify a weapon type.
              </h5>
            </div>
          </div>
          <div class="center-page"><span></span>Scroll</div>
        </div>

        <div class="slide mass-shootings-intro-2">
          <div class="intro-para">
            <h5>
              Using data on mass shootings kindly provided to us by the <a target="_blank" href="http://www.gunviolencearchive.org/">Gun Violence Archive</a>, 
              a not-for-profit corporation dedicated to providing accurate public access to gun-related violence in the United States, we present an overview of some of the numbers surrounding mass shootings from 2013 to 2016.
            </h5>
          </div>
          <div class="center-page"><span></span>Scroll</div>
        </div>

        <div class="slide mass-shootings-viz">
          <div id="timeline-container" class="section-container">
            
            <div class="section-intro">
              <h1>An Overview of Mass Shootings</h1>
              <h5>The number of incidents of mass shootings have increased over the past 4 years from 2013 to 2016. </br>
                  <span class="text-em text-red">Click on the filters below </span>to filter by the number of victims (Deaths + Injuries) or see Deaths and Injuries separately.
              </h5>
            </div>

            <div id="timeline-wrapper" class="viz-wrapper">
              <div id="timeline-group">

                <div id="timeline-filter-buttons">
                  <button type="button" id="totalRecords-button">Number of Incidents</button>
                  <button type="button" id="victims-button">Total Victims</button>
                  <button type="button" id="fatalities-button">Deaths</button>
                  <button type="button" id="injuries-button">Injuries</button>
                </div> 
                
                <div id="timeline2013-wrapper" class="timeline-canvas-wrapper">
                  <div class="year-label"><h3>2013</h3></div>
                  <div id="timeline2013-canvas" class="timeline-canvas"></div>
                </div>

                <div id="timeline2014-wrapper" class="timeline-canvas-wrapper">
                  <div class="year-label"><h3>2014</h3></div>
                  <div id="timeline2014-canvas" class="timeline-canvas"></div>
                </div>
                
                <div id="timeline2015-wrapper" class="timeline-canvas-wrapper">
                  <div class="year-label"><h3>2015</h3></div>
                  <div id="timeline2015-canvas" class="timeline-canvas"></div>
                </div>

                <div id="timeline2016-wrapper" class="timeline-canvas-wrapper">
                  <div class="year-label"><h3>2016</h3></div>
                  <div id="timeline2016-canvas" class="timeline-canvas"></div>
                </div>

              </div>
              

              <div id="timeline-map">
                <h6>Click on a month to see where these shootings occur</h6>
              </div>

            </div>
          </div>
          <div class="scroll-down"><span></span>Scroll</div>
        </div>
      </div>          
          
        </div>
      </div>
  </body>
</html>