<!DOCTYPE html>
<html lang="en">
		<header>
				<h1>Minimum Wages of the United States 2000-2017</h1>
				</header>
<head>
    <style>

        .rectangle {
          fill: steelblue;
        }
        .rectangle:hover {
          fill: orange;
        }
        .axis {
          font: 10px sans-serif;
        }
        
        .axis path,
        .axis line {
          fill: none;
          stroke: #000;
          shape-rendering: crispEdges;
        }
        </style>
<meta charset="utf-8">
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, shrink-to-fit=no"
/>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.4/lodash.min.js"></script>
<script src="https://unpkg.com/d3-simple-slider@0.1.2/build/d3-simple-slider.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/d3-queue/3.0.4/d3-queue.min.js"></script>


<style type="text/css">

 html, body, #vis {
            height: 100%;
            margin: 0;
        }
/* On mouse hover, lighten state color */
path:hover {
	fill-opacity: .65;
}

/* Style for Custom Tooltip */
div.tooltip {   
 	position: absolute;           
	text-align: center;           
	width: 60px;                  
	height: 28px;                 
	padding: 2px;             
	font: 12px sans-serif;        
	background: white;   
	border: 0px;      
	border-radius: 8px;           
	pointer-events: none;         
}
        
/* Legend Font Style */
body {
	font: 11px sans-serif;
}
        
/* Legend Position Style */
.legend {
	position:absolute;
	left:800px;
	top:350px;
}

</style>
</head>
<body>


		<form>
				<label for="year">Please select a year: </label>
				<input type="range" min=2000 max=2017 step=1 id="yearMap" value=2017 oninput="selected_yearMap.value = yearMap.value" onchange ="drawMap(yearMap.value)">
				<output name="selected_year" id="selected_yearMap">2017</output>
		</form>

<script type="text/javascript">



var width = 960;
var height = 500;


// D3 Projection
// Is the map
//d3 = d3version5
var svg = d3.select("body")
			.append("svg")
			.attr("width", width)
			.attr("height", height);
//drawMap(selected_year.value)
var drawMap = function(year) {

var projection = d3.geoAlbersUsa()
				   .translate([width/2, height/2])    // translate to center of screen
				   .scale([1000]);          // scale things down so see entire US
        
// Define path generator

var path = d3.geoPath()               // path generator that will convert GeoJSON to SVG paths
		  	 .projection(projection);  // tell path generator to use albersUsa projection

		
// Define linear scale for output
var color = d3.scaleLinear()
			  .domain([0,10])
			  .range(["rgb(213,222,217)","rgb(69,173,168)","rgb(84,36,55)","rgb(217,91,67"]);

var legendText = ["Cities Lived", "States Lived", "States Visited", "Nada"];

//Create SVG element and append map to the SVG

svg.selectAll("*").remove();
// Append Div for tooltip to SVG
var div = d3.select("body")
		    .append("div")   
    		.attr("class", "tooltip")               
    		.style("opacity", 0);

	if (year == 2000)
	{
		// Load in my states data!
		d3.csv("2000_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}

	if (year == 2001)
	{
		// Load in my states data!
		d3.csv("2001_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}

	if (year == 2002)
	{
		// Load in my states data!
		d3.csv("2002_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}

	if (year == 2003)
	{
		// Load in my states data!
		d3.csv("2003_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}

if (year == 2004)
	{
		// Load in my states data!
		d3.csv("2004_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}

	if (year == 2005)
	{
		// Load in my states data!
		d3.csv("2005_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}
	if (year == 2006)
	{
		// Load in my states data!
		d3.csv("2006_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}
	if (year == 2007)
	{
		// Load in my states data!
		d3.csv("2007_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}
	if (year == 2008)
	{
		// Load in my states data!
		d3.csv("2008_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}

	if (year == 2009)
	{
		// Load in my states data!
		d3.csv("2009_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}
	if (year == 2010)
	{
		// Load in my states data!
		d3.csv("2010_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}

	if (year == 2011)
	{
		// Load in my states data!
		d3.csv("2011_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}

	if (year == 2012)
	{
		// Load in my states data!
		d3.csv("2012_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}
	if (year == 2013)
	{
		// Load in my states data!
		d3.csv("2013_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}

	if (year == 2014)
	{
		// Load in my states data!
		d3.csv("2014_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}
	if (year == 2015)
	{
		// Load in my states data!
		d3.csv("2015_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}
	if (year == 2016)
	{
		// Load in my states data!
		d3.csv("2016_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}
	if (year == 2017)
	{
		// Load in my states data!
		d3.csv("2017_minWage.csv", function(data) {
		//color.domain([1,1,1,1]); // setting the range of the input data

		// Load GeoJSON data and merge with states data
		d3.json("us-states.json", function(json) {

		// Loop through each state data value in the .csv file
		for (var i = 0; i < data.length; i++) {

			// Grab State Name
			var dataState = data[i].state;	// Seems state corresponds to the field

			// Grab data value 
			var dataValue = data[i].minimumWage;

			// Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++)  {
				var jsonState = json.features[j].properties.name;

				if (dataState == jsonState) {

				// Copy the data value into the JSON
				json.features[j].properties.state = dataValue; 
				json.features[j].properties.minimumWage = dataState; 


				// Stop looking through the JSON
				break;
				}
			}
		}
				
		// Bind the data to the SVG and create one path per GeoJSON feature
		svg.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("d", path)
			.style("stroke", "#fff")
			.style("stroke-width", "1")
			.style("fill", function(d) {

			// Get data value
			var value = d.properties.state;

			if (value) {
			//If value exists�
			return color(value);
			} else {
			//If value is undefined�
			return "rgb(255,255,217)";
			}

		})
		.on("mouseover", function(d) {      
				div.transition()        
				.duration(200)      
				.style("opacity", .9);
		
				div.html(d.properties.minimumWage + "<br/>" + d.properties.state)
				.style("left", (d3.event.pageX) + "px")     
				.style("top", (d3.event.pageY - 28) + "px");   

			})   

			// fade out tooltip on mouse out               
			.on("mouseout", function(jsonState) {       
				div.transition()        
				.duration(500)      
				.style("opacity", 0);   
			});

			});



		});
	}
}
</script>



<!--       
        var legendText = ["Cities Lived", "States Lived", "States Visited", "Nada"];
        
        //Create SVG element and append map to the SVG
        var svg = d3.select("body")
                    .append("svg")
                    .attr("width", width)
                    .attr("height", height);
                
        // Append Div for tooltip to SVG
        var div = d3.select("body")
                    .append("div")    -->
            
                    <!-- <body>
                            <div id="drop" align=center></div>
                            <script src="https://d3js.org/d3.v3.min.js"></script>
                            <script>
                            
                            var margin = {top: 80, right: 80, bottom: 80, left: 80},
                                width = 960 - margin.left - margin.right,
                                height = 500 - margin.top - margin.bottom;
                            
                            var svg = d3.select("body").append("svg")
                                .attr("width", width + margin.left + margin.right)
                                .attr("height", height + margin.top + margin.bottom)
                                .append("g")
                                .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
                            
                            d3.csv("MinimumWageData.csv", function(error, data){
                            
                                // filter year
                                var data = data.filter(function(d){return d.Year == '2000';});
                                // Get every column value
                                var elements = Object.keys(data[0])
                                    .filter(function(d){
                                        return ((d != "Year") & (d != "State"));
                                    });
                                var selection = elements[0];
                            
                                var y = d3.scale.linear()
                                        .domain([0, d3.max(data, function(d){
                                            return +d[selection];
                                        })])
                                        .range([height, 0]);
                            
                                var x = d3.scale.ordinal()
                                        .domain(data.map(function(d){ return d.State;}))
                                        .rangeBands([0, width]);
                            
                            
                                var xAxis = d3.svg.axis()
                                    .scale(x)
                                    .orient("bottom");
                            
                                var yAxis = d3.svg.axis()
                                    .scale(y)
                                    .orient("left");
                            
                                svg.append("g")
                                    .attr("class", "x axis")
                                    .attr("transform", "translate(0," + height + ")")
                                    .call(xAxis)
                                    .selectAll("text")
                                    .style("font-size", "8px")
                                      .style("text-anchor", "end")
                                      .attr("dx", "-.8em")
                                      .attr("dy", "-.55em")
                                      .attr("transform", "rotate(-90)" );
                            
                            
                                 svg.append("g")
                                    .attr("class", "y axis")
                                    .call(yAxis);
                            
                                svg.selectAll("rectangle")
                                    .data(data)
                                    .enter()
                                    .append("rect")
                                    .attr("class","rectangle")
                                    .attr("width", width/data.length)
                                    .attr("height", function(d){
                                        return height - y(+d[selection]);
                                    })
                                    .attr("x", function(d, i){
                                        return (width / data.length) * i ;
                                    })
                                    .attr("y", function(d){
                                        return y(+d[selection]);
                                    })
                                    .append("title")
                                    .text(function(d){
                                        return d.State + " : " + d[selection];
                                    });
                            
                                var selector = d3.select("#drop")
                                    .append("select")
                                    .attr("id","dropdown")
                                    .on("change", function(d){
                                        selection = document.getElementById("dropdown");
                            
                                        y.domain([0, d3.max(data, function(d){
                                            return +d[selection.value];})]);
                            
                                        yAxis.scale(y);
                            
                                        d3.selectAll(".rectangle")
                                               .transition()
                                            .attr("height", function(d){
                                                return height - y(+d[selection.value]);
                                            })
                                            .attr("x", function(d, i){
                                                return (width / data.length) * i ;
                                            })
                                            .attr("y", function(d){
                                                return y(+d[selection.value]);
                                            })
                                               .ease("linear")
                                               .select("title")
                                               .text(function(d){
                                                   return d.State + " : " + d[selection.value];
                                               });
                                  
                                           d3.selectAll("g.y.axis")
                                               .transition()
                                               .call(yAxis);
                            
                                     });
                            
                                selector.selectAll("option")
                                  .data(elements)
                                  .enter().append("option")
                                  .attr("value", function(d){
                                    return d;
                                  })
                                  .text(function(d){
                                    return d;
                                  })
                            
                            
                            });
                            
                            </script>
                            </body> -->
        
  <body>
    <div id="fullpage">
      <!--Section 1-->
      <div class="section title-page bg-image" id="title-bg" data-anchor="section-title">
        <div class="bg-opacity">
          <div id="title-wrapper">
              <h1 id="main-title">Minumium Wage</h1>
              <h4 id="main-subtitle">Exploring Minimum Wage in America</h4>
          </div>
        </div>
        <div class="center-page"><span></span>Scroll</div>
      </div>
<h2 This visualization shows the minimum wage of each state from 2000-2017, Adjusted for inflation. With this visualization we hope to show the minimum income of each state throughout the years, and contrast it with other visualizations to show the rising increase of living costs.>
    </h2>
    </body>
    
   
      <!--Section 2-->
      <div class="section Compare Wages" data-anchor="Compare Wages">

        <div class="slide mass-shootings-intro-1 bg-image">
          <div class="bg-opacity">
            <div class="intro-para">
              <h2 class="text-red">The Problems surrounding mimimum-wage</h2>
              <h4>
                Over the last few years, there has been much discussion surrounding the minimum wage in the United States.
                Many people would like to see the wage increased.
              </h4>
              <br>
              <h4>
                It's important to look at minimum wage and how it relates to the cost of living.
              </h4>
            </div>
          </div>
          <div class="center-page"><span></span>Scroll</div>
        </div>    
          
        </div>
      </div>
  </body>

  <body>
      <div id="drop" align=center></div>
      <script src="http://d3js.org/d3.v4.min.js"></script>
      
      
      <form>
          <label for="year">Please select a year: </label>
          <input type="range" min=2000 max=2017 step=1 id="year" value=2017 oninput="selected_year.value = year.value" onchange ="drawBar(year.value)">
          <output name="selected_year" id="selected_year">2017</output>
      </form>
      
      <script>
      
      // Centers the Graph
      var margin = {top: 80, right: 180, bottom: 80, left: 180},
          width = 960 - margin.left - margin.right,
          height = 500 - margin.top - margin.bottom;
      
      
      // Creates the graph
      var svg2 = d3.select("body").append("svg")
        .attr("width", width + margin.left + margin.right)
          .attr("height", height + margin.top + margin.bottom)
        .append("g")
          .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
      
      var drawBar = function(year) {
        // The dataset that we will use to populate the graph.
        svg2.selectAll("*").remove(); 
        d3.csv("MinimumWageData.csv", function(error, data){
      
          // filter year
          var data = data.filter(function(d){return d.Year == year;});
          // Get every column value
          var elements = Object.keys(data[0])
            .filter(function(d){
              return ((d != "Year") & (d != "State"));
            });
          var selection = elements[0];
      
          var y = d3.scaleLinear()
              .domain([0, d3.max(data, function(d){
                return +d[selection];
              })])
              .range([height, 0]);
      
          var x = d3.scaleBand()
              .domain(data.map(function(d){ return d.State;}))
              .rangeRound([0, width]);
      
      
          var xAxis = d3.axisBottom(x);
          var yAxis = d3.axisLeft(y);
      
      
          svg2.append("g")
              .attr("class", "x axis")
              .attr("transform", "translate(0," + height + ")")
              .call(xAxis)
              .selectAll("text")
              .style("font-size", "8px")
                .style("text-anchor", "end")
                .attr("dx", "-.8em")
                .attr("dy", "-.55em")
                .attr("transform", "rotate(-90)" );
      
      
        svg2.append("g")
        .attr("class", "y axis")
        .call(yAxis);
      
        svg2.selectAll("rectangle")
          .data(data)
          .enter()
          .append("rect")
          .attr("class","rectangle")
          .attr("width", width/data.length)
          .attr("height", function(d){
            return height - y(+d[selection]);
          })
          .attr("x", function(d, i){
            return (width / data.length) * i ;
          })
          .attr("y", function(d){
            return y(+d[selection]);
          })
          .append("title")
          .text(function(d){
            return d.State + " : " + d[selection];
          });
      
          
      
      
      
        });
      }
      </script>
      </body>
</html>
